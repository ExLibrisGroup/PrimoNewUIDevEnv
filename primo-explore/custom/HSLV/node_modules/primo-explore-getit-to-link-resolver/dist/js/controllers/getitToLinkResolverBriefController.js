'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (getitToLinkResolverService, $scope) {
  var ctrl = this;
  ctrl.$onInit = function () {
    // Get our config in this scope
    $scope.config = getitToLinkResolverService.config;
    $scope.getitLink = function () {
      try {
        return ctrl.prmBriefResultContainer.item.link[$scope.config.linkField];
      } catch (e) {
        return '#';
      }
    }() || '#';
  };
  // Retrieve the GetIt link from whichever field the config told us it's in
  // note the different path for looking for links in full and brief displays
  // Yes this needs to be DRYed up
  // Use the translate function in this scope
  $scope.translate = function (original) {
    return getitToLinkResolverService.translate(original);
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9qcy9jb250cm9sbGVycy9nZXRpdFRvTGlua1Jlc29sdmVyQnJpZWZDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImdldGl0VG9MaW5rUmVzb2x2ZXJTZXJ2aWNlIiwiJHNjb3BlIiwiY3RybCIsIiRvbkluaXQiLCJjb25maWciLCJnZXRpdExpbmsiLCJwcm1CcmllZlJlc3VsdENvbnRhaW5lciIsIml0ZW0iLCJsaW5rIiwibGlua0ZpZWxkIiwiZSIsInRyYW5zbGF0ZSIsIm9yaWdpbmFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBQWUsVUFBU0EsMEJBQVQsRUFBcUNDLE1BQXJDLEVBQTZDO0FBQzFELE1BQU1DLE9BQU8sSUFBYjtBQUNBQSxPQUFLQyxPQUFMLEdBQWUsWUFBVztBQUN4QjtBQUNBRixXQUFPRyxNQUFQLEdBQWdCSiwyQkFBMkJJLE1BQTNDO0FBQ0FILFdBQU9JLFNBQVAsR0FBb0IsWUFBTTtBQUN4QixVQUFJO0FBQ0YsZUFBT0gsS0FBS0ksdUJBQUwsQ0FBNkJDLElBQTdCLENBQWtDQyxJQUFsQyxDQUF1Q1AsT0FBT0csTUFBUCxDQUFjSyxTQUFyRCxDQUFQO0FBQ0QsT0FGRCxDQUVFLE9BQU9DLENBQVAsRUFBVTtBQUNWLGVBQU8sR0FBUDtBQUNEO0FBQ0YsS0FOa0IsTUFNWCxHQU5SO0FBT0QsR0FWRDtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FULFNBQU9VLFNBQVAsR0FBbUIsVUFBQ0MsUUFBRDtBQUFBLFdBQWNaLDJCQUEyQlcsU0FBM0IsQ0FBcUNDLFFBQXJDLENBQWQ7QUFBQSxHQUFuQjtBQUNELEMiLCJmaWxlIjoiZ2V0aXRUb0xpbmtSZXNvbHZlckJyaWVmQ29udHJvbGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGdldGl0VG9MaW5rUmVzb2x2ZXJTZXJ2aWNlLCAkc2NvcGUpIHtcbiAgY29uc3QgY3RybCA9IHRoaXM7XG4gIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIEdldCBvdXIgY29uZmlnIGluIHRoaXMgc2NvcGVcbiAgICAkc2NvcGUuY29uZmlnID0gZ2V0aXRUb0xpbmtSZXNvbHZlclNlcnZpY2UuY29uZmlnO1xuICAgICRzY29wZS5nZXRpdExpbmsgPSAoKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGN0cmwucHJtQnJpZWZSZXN1bHRDb250YWluZXIuaXRlbS5saW5rWyRzY29wZS5jb25maWcubGlua0ZpZWxkXTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuICcjJztcbiAgICAgIH1cbiAgICB9KSgpIHx8ICcjJztcbiAgfTtcbiAgLy8gUmV0cmlldmUgdGhlIEdldEl0IGxpbmsgZnJvbSB3aGljaGV2ZXIgZmllbGQgdGhlIGNvbmZpZyB0b2xkIHVzIGl0J3MgaW5cbiAgLy8gbm90ZSB0aGUgZGlmZmVyZW50IHBhdGggZm9yIGxvb2tpbmcgZm9yIGxpbmtzIGluIGZ1bGwgYW5kIGJyaWVmIGRpc3BsYXlzXG4gIC8vIFllcyB0aGlzIG5lZWRzIHRvIGJlIERSWWVkIHVwXG4gIC8vIFVzZSB0aGUgdHJhbnNsYXRlIGZ1bmN0aW9uIGluIHRoaXMgc2NvcGVcbiAgJHNjb3BlLnRyYW5zbGF0ZSA9IChvcmlnaW5hbCkgPT4gZ2V0aXRUb0xpbmtSZXNvbHZlclNlcnZpY2UudHJhbnNsYXRlKG9yaWdpbmFsKTtcbn1cbiJdfQ==
