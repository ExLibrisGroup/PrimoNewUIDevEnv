"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (getitToLinkResolverService, $scope) {
  var ctrl = this;
  ctrl.$onInit = function () {
    // Get our config in this scope
    $scope.config = getitToLinkResolverService.config;
    // Are we in the "send to" section? Then we're going to add our GetIt
    // link right after it as a new section
    $scope.shouldAddGetItLink = ctrl.prmFullViewServiceContainer.service.title === "nui.brief.results.tabs.send_to";

    $scope.getitLink = function () {
      try {
        return ctrl.prmFullViewServiceContainer.item.delivery.link.filter(function (link) {
          return link["displayLabel"] === getitToLinkResolverService.config.linkField;
        })[0]["linkURL"];
      } catch (e) {
        return '#';
      }
    }() || '#';
  };
  // Retrieve the GetIt link from whichever field the config told us it's in
  // note the different path for looking for links in full and brief displays
  // Use the translate function in this scope
  $scope.translate = function (original) {
    return getitToLinkResolverService.translate(original);
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9qcy9jb250cm9sbGVycy9nZXRpdFRvTGlua1Jlc29sdmVyRnVsbENvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZ2V0aXRUb0xpbmtSZXNvbHZlclNlcnZpY2UiLCIkc2NvcGUiLCJjdHJsIiwiJG9uSW5pdCIsImNvbmZpZyIsInNob3VsZEFkZEdldEl0TGluayIsInBybUZ1bGxWaWV3U2VydmljZUNvbnRhaW5lciIsInNlcnZpY2UiLCJ0aXRsZSIsImdldGl0TGluayIsIml0ZW0iLCJkZWxpdmVyeSIsImxpbmsiLCJmaWx0ZXIiLCJsaW5rRmllbGQiLCJlIiwidHJhbnNsYXRlIiwib3JpZ2luYWwiXSwibWFwcGluZ3MiOiI7Ozs7OztrQkFBZSxVQUFTQSwwQkFBVCxFQUFxQ0MsTUFBckMsRUFBNkM7QUFDMUQsTUFBTUMsT0FBTyxJQUFiO0FBQ0FBLE9BQUtDLE9BQUwsR0FBZSxZQUFXO0FBQ3hCO0FBQ0FGLFdBQU9HLE1BQVAsR0FBZ0JKLDJCQUEyQkksTUFBM0M7QUFDQTtBQUNBO0FBQ0FILFdBQU9JLGtCQUFQLEdBQTRCSCxLQUFLSSwyQkFBTCxDQUFpQ0MsT0FBakMsQ0FBeUNDLEtBQXpDLEtBQW1ELGdDQUEvRTs7QUFFQVAsV0FBT1EsU0FBUCxHQUFvQixZQUFNO0FBQ3hCLFVBQUk7QUFDRixlQUFPUCxLQUFLSSwyQkFBTCxDQUFpQ0ksSUFBakMsQ0FBc0NDLFFBQXRDLENBQStDQyxJQUEvQyxDQUFvREMsTUFBcEQsQ0FBMkQ7QUFBQSxpQkFDaEVELEtBQUssY0FBTCxNQUF5QlosMkJBQTJCSSxNQUEzQixDQUFrQ1UsU0FESztBQUFBLFNBQTNELEVBRUwsQ0FGSyxFQUVGLFNBRkUsQ0FBUDtBQUdELE9BSkQsQ0FJRSxPQUFPQyxDQUFQLEVBQVU7QUFDVixlQUFPLEdBQVA7QUFDRDtBQUNGLEtBUmtCLE1BUVgsR0FSUjtBQVNELEdBaEJEO0FBaUJBO0FBQ0E7QUFDQTtBQUNBZCxTQUFPZSxTQUFQLEdBQW1CLFVBQUNDLFFBQUQ7QUFBQSxXQUFjakIsMkJBQTJCZ0IsU0FBM0IsQ0FBcUNDLFFBQXJDLENBQWQ7QUFBQSxHQUFuQjtBQUNELEMiLCJmaWxlIjoiZ2V0aXRUb0xpbmtSZXNvbHZlckZ1bGxDb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZ2V0aXRUb0xpbmtSZXNvbHZlclNlcnZpY2UsICRzY29wZSkge1xuICBjb25zdCBjdHJsID0gdGhpcztcbiAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gR2V0IG91ciBjb25maWcgaW4gdGhpcyBzY29wZVxuICAgICRzY29wZS5jb25maWcgPSBnZXRpdFRvTGlua1Jlc29sdmVyU2VydmljZS5jb25maWc7XG4gICAgLy8gQXJlIHdlIGluIHRoZSBcInNlbmQgdG9cIiBzZWN0aW9uPyBUaGVuIHdlJ3JlIGdvaW5nIHRvIGFkZCBvdXIgR2V0SXRcbiAgICAvLyBsaW5rIHJpZ2h0IGFmdGVyIGl0IGFzIGEgbmV3IHNlY3Rpb25cbiAgICAkc2NvcGUuc2hvdWxkQWRkR2V0SXRMaW5rID0gY3RybC5wcm1GdWxsVmlld1NlcnZpY2VDb250YWluZXIuc2VydmljZS50aXRsZSA9PT0gXCJudWkuYnJpZWYucmVzdWx0cy50YWJzLnNlbmRfdG9cIjtcblxuICAgICRzY29wZS5nZXRpdExpbmsgPSAoKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGN0cmwucHJtRnVsbFZpZXdTZXJ2aWNlQ29udGFpbmVyLml0ZW0uZGVsaXZlcnkubGluay5maWx0ZXIobGluayA9PlxuICAgICAgICAgIGxpbmtbXCJkaXNwbGF5TGFiZWxcIl0gPT09IGdldGl0VG9MaW5rUmVzb2x2ZXJTZXJ2aWNlLmNvbmZpZy5saW5rRmllbGRcbiAgICAgICAgKVswXVtcImxpbmtVUkxcIl07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiAnIyc7XG4gICAgICB9XG4gICAgfSkoKSB8fCAnIyc7XG4gIH07XG4gIC8vIFJldHJpZXZlIHRoZSBHZXRJdCBsaW5rIGZyb20gd2hpY2hldmVyIGZpZWxkIHRoZSBjb25maWcgdG9sZCB1cyBpdCdzIGluXG4gIC8vIG5vdGUgdGhlIGRpZmZlcmVudCBwYXRoIGZvciBsb29raW5nIGZvciBsaW5rcyBpbiBmdWxsIGFuZCBicmllZiBkaXNwbGF5c1xuICAvLyBVc2UgdGhlIHRyYW5zbGF0ZSBmdW5jdGlvbiBpbiB0aGlzIHNjb3BlXG4gICRzY29wZS50cmFuc2xhdGUgPSAob3JpZ2luYWwpID0+IGdldGl0VG9MaW5rUmVzb2x2ZXJTZXJ2aWNlLnRyYW5zbGF0ZShvcmlnaW5hbCk7XG59XG4iXX0=